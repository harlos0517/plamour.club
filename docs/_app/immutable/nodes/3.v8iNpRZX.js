import{s as ro,f as no,n as q,r as X,e as io}from"../chunks/scheduler.DCNtzCSl.js";import{S as lo,i as so,e as j,s as L,c as D,a as I,d as k,f as M,o as v,p as W,g as O,h as A,y as G,m as U,t as Y,b as Z,z as _,A as P,j as co}from"../chunks/index.B1f9DKvt.js";function S(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}const N=[{direction:"across",position:3,row:1,col:10,word:"sodagreen",clue:"sodagreen"},{direction:"across",position:8,row:4,col:6,word:"smile",clue:"smile"},{direction:"across",position:14,row:5,col:18,word:"killua_zoldyck",clue:"killua_zoldyck"},{direction:"across",position:16,row:7,col:10,word:"hungary",clue:"hungary"},{direction:"across",position:17,row:7,col:18,word:"postman",clue:"postman"},{direction:"across",position:19,row:9,col:1,word:"tornado_potato",clue:"tornado_potato"},{direction:"across",position:20,row:9,col:22,word:"russia",clue:"russia"},{direction:"across",position:21,row:27,col:27,word:"five",clue:"five"},{direction:"across",position:25,row:11,col:12,word:"moriame_yuna",clue:"moriame_yuna"},{direction:"across",position:28,row:13,col:5,word:"gambler",clue:"gambler"},{direction:"across",position:30,row:13,col:15,word:"sing",clue:"sing"},{direction:"across",position:33,row:14,col:22,word:"penguin",clue:"penguin"},{direction:"across",position:34,row:16,col:1,word:"joker",clue:"joker"},{direction:"across",position:35,row:16,col:9,word:"disney",clue:"disney"},{direction:"across",position:36,row:16,col:25,word:"hanako",clue:"hanako"},{direction:"across",position:37,row:17,col:6,word:"fox",clue:"fox"},{direction:"across",position:38,row:17,col:16,word:"stone",clue:"stone"},{direction:"across",position:40,row:20,col:17,word:"llatte",clue:"llatte"},{direction:"across",position:41,row:21,col:6,word:"siberia",clue:"siberia"},{direction:"across",position:44,row:22,col:18,word:"game",clue:"game"},{direction:"across",position:45,row:19,col:2,word:"elden_ring",clue:"elden_ring"},{direction:"across",position:48,row:24,col:12,word:"sullyin",clue:"sullyin"},{direction:"across",position:49,row:24,col:22,word:"eggplant",clue:"eggplant"},{direction:"across",position:51,row:25,col:0,word:"japanese",clue:"japanese"},{direction:"across",position:53,row:26,col:9,word:"jake",clue:"jake"},{direction:"across",position:54,row:26,col:18,word:"samoyed",clue:"samoyed"},{direction:"down",position:1,row:0,col:11,word:"book",clue:"book"},{direction:"down",position:2,row:0,col:16,word:"feburary",clue:"feburary"},{direction:"down",position:4,row:1,col:29,word:"money",clue:"money"},{direction:"down",position:5,row:2,col:20,word:"harlos",clue:"harlos"},{direction:"down",position:6,row:2,col:27,word:"garlic",clue:"garlic"},{direction:"down",position:7,row:2,col:31,word:"racka",clue:"racka"},{direction:"down",position:9,row:4,col:7,word:"macaron",clue:"macaron"},{direction:"down",position:10,row:4,col:23,word:"karasuba",clue:"karasuba"},{direction:"down",position:11,row:5,col:3,word:"watermelon",clue:"watermelon"},{direction:"down",position:12,row:5,col:5,word:"delta_dagger",clue:"delta_dagger"},{direction:"down",position:13,row:5,col:14,word:"plamour",clue:"plamour"},{direction:"down",position:15,row:6,col:1,word:"white",clue:"white"},{direction:"down",position:18,row:8,col:26,word:"rich",clue:"rich"},{direction:"down",position:22,row:10,col:16,word:"magic",clue:"magic"},{direction:"down",position:23,row:10,col:18,word:"league_of_legends",clue:"league_of_legends"},{direction:"down",position:24,row:10,col:28,word:"clown",clue:"clown"},{direction:"down",position:26,row:11,col:13,word:"october",clue:"october"},{direction:"down",position:27,row:12,col:30,word:"mango",clue:"mango"},{direction:"down",position:29,row:13,col:7,word:"motion_sickness",clue:"motion_sickness"},{direction:"down",position:31,row:13,col:26,word:"fuhalosa",clue:"fuhalosa"},{direction:"down",position:32,row:14,col:20,word:"angel",clue:"angel"},{direction:"down",position:33,row:14,col:22,word:"pathogen",clue:"pathogen"},{direction:"down",position:39,row:20,col:12,word:"dad",clue:"dad"},{direction:"down",position:42,row:22,col:14,word:"wilson",clue:"wilson"},{direction:"down",position:43,row:22,col:16,word:"keyboard",clue:"keyboard"},{direction:"down",position:46,row:23,col:28,word:"english",clue:"english"},{direction:"down",position:47,row:24,col:10,word:"weak",clue:"weak"},{direction:"down",position:48,row:24,col:12,word:"sheep",clue:"sheep"},{direction:"down",position:50,row:24,col:23,word:"greedy",clue:"greedy"},{direction:"down",position:52,row:25,col:21,word:"dog",clue:"dog"},{direction:"down",position:55,row:26,col:19,word:"anos",clue:"anos"},{direction:"down",position:56,row:22,col:5,word:"green",clue:"green"},{direction:"down",position:57,row:21,col:3,word:"threaten",clue:"threaten"},{direction:"down",position:58,row:20,col:1,word:"drunkard",clue:"drunkard"}];function B(o,e,r){const i=o.slice();return i[17]=e[r].clue,i[18]=e[r].row,i[19]=e[r].col,i[20]=e,i[21]=r,i}function H(o,e,r){const i=o.slice();return i[18]=e[r],i[21]=r,i}function R(o,e,r){const i=o.slice();return i[23]=e[r],i[25]=r,i}function F(o){let e,r,i=o[0][o[21]][o[25]]+"",l,h,a,p;function m(){return o[12](o[21],o[25])}return{c(){e=j("div"),r=j("span"),l=Y(i),h=L(),this.h()},l(n){e=D(n,"DIV",{class:!0,role:!0,tabindex:!0});var w=I(e);r=D(w,"SPAN",{});var f=I(r);l=Z(f,i),f.forEach(k),h=M(w),w.forEach(k),this.h()},h(){v(e,"class","flex flex-start absolute items-center justify-center border border-gray-300 bg-black transition-colors svelte-1mli9ry"),v(e,"role","button"),v(e,"tabindex","0"),_(e,"bg-sky-950",(o[21]!==o[2].row||o[25]!==o[2].col)&&o[9](o[21],o[25],o[6][o[3]])),_(e,"bg-sky-800",o[21]===o[2].row&&o[25]===o[2].col),W(e,"top",o[21]*z+"px"),W(e,"left",o[25]*z+"px"),W(e,"width",z+1+"px"),W(e,"height",z+1+"px")},m(n,w){O(n,e,w),A(e,r),A(r,l),A(e,h),a||(p=[P(e,"click",m),P(e,"keydown",ao)],a=!0)},p(n,w){o=n,w&1&&i!==(i=o[0][o[21]][o[25]]+"")&&co(l,i),w&588&&_(e,"bg-sky-950",(o[21]!==o[2].row||o[25]!==o[2].col)&&o[9](o[21],o[25],o[6][o[3]])),w&4&&_(e,"bg-sky-800",o[21]===o[2].row&&o[25]===o[2].col)},d(n){n&&k(e),a=!1,X(p)}}}function J(o){let e,r=o[23]&&F(o);return{c(){r&&r.c(),e=U()},l(i){r&&r.l(i),e=U()},m(i,l){r&&r.m(i,l),O(i,e,l)},p(i,l){i[23]?r?r.p(i,l):(r=F(i),r.c(),r.m(e.parentNode,e)):r&&(r.d(1),r=null)},d(i){i&&k(e),r&&r.d(i)}}}function Q(o){let e,r=S(o[18]),i=[];for(let l=0;l<r.length;l+=1)i[l]=J(R(o,r,l));return{c(){for(let l=0;l<i.length;l+=1)i[l].c();e=U()},l(l){for(let h=0;h<i.length;h+=1)i[h].l(l);e=U()},m(l,h){for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(l,h);O(l,e,h)},p(l,h){if(h&1615){r=S(l[18]);let a;for(a=0;a<r.length;a+=1){const p=R(l,r,a);i[a]?i[a].p(p,h):(i[a]=J(p),i[a].c(),i[a].m(e.parentNode,e))}for(;a<i.length;a+=1)i[a].d(1);i.length=r.length}},d(l){l&&k(e),G(i,l)}}}function T(o){let e,r,i=o[17]+"",l,h,a=o[21],p,m;const n=()=>o[13](e,a),w=()=>o[13](null,a);function f(){return o[14](o[21],o[18],o[19])}return{c(){e=j("div"),r=j("span"),l=Y(i),h=L(),this.h()},l(d){e=D(d,"DIV",{class:!0,role:!0,tabindex:!0});var u=I(e);r=D(u,"SPAN",{});var t=I(r);l=Z(t,i),t.forEach(k),h=M(u),u.forEach(k),this.h()},h(){v(e,"class","flex flex-row items-center my-4 p-4 rounded-md border-2 border-solid border-white/30 hover:bg-white/10 transition-colors first:mt-0 last:mb-0 svelte-1mli9ry"),v(e,"role","button"),v(e,"tabindex","0"),_(e,"bg-gray-700",o[21]===o[3]&&!o[5][o[21]]),_(e,"bg-gray-900",o[21]!==o[3]&&!o[5][o[21]]),_(e,"bg-green-900",o[21]!==o[3]&&o[5][o[21]]),_(e,"bg-green-700",o[21]===o[3]&&o[5][o[21]]),_(e,"hover:bg-gray-600",o[21]===o[3]&&!o[5][o[21]]),_(e,"hover:bg-gray-800",o[21]!==o[3]&&!o[5][o[21]]),_(e,"hover:bg-green-800",o[21]!==o[3]&&o[5][o[21]]),_(e,"hover:bg-green-600",o[21]===o[3]&&o[5][o[21]])},m(d,u){O(d,e,u),A(e,r),A(r,l),A(e,h),n(),p||(m=[P(e,"click",f),P(e,"keydown",wo)],p=!0)},p(d,u){o=d,a!==o[21]&&(w(),a=o[21],n()),u&40&&_(e,"bg-gray-700",o[21]===o[3]&&!o[5][o[21]]),u&40&&_(e,"bg-gray-900",o[21]!==o[3]&&!o[5][o[21]]),u&40&&_(e,"bg-green-900",o[21]!==o[3]&&o[5][o[21]]),u&40&&_(e,"bg-green-700",o[21]===o[3]&&o[5][o[21]]),u&40&&_(e,"hover:bg-gray-600",o[21]===o[3]&&!o[5][o[21]]),u&40&&_(e,"hover:bg-gray-800",o[21]!==o[3]&&!o[5][o[21]]),u&40&&_(e,"hover:bg-green-800",o[21]!==o[3]&&o[5][o[21]]),u&40&&_(e,"hover:bg-green-600",o[21]===o[3]&&o[5][o[21]])},d(d){d&&k(e),w(),p=!1,X(m)}}}function to(o){let e,r,i,l,h,a,p,m=S(o[1]),n=[];for(let d=0;d<m.length;d+=1)n[d]=Q(H(o,m,d));let w=S(o[6]),f=[];for(let d=0;d<w.length;d+=1)f[d]=T(B(o,w,d));return{c(){e=j("div"),r=j("div");for(let d=0;d<n.length;d+=1)n[d].c();i=L(),l=j("div"),h=j("div");for(let d=0;d<f.length;d+=1)f[d].c();this.h()},l(d){e=D(d,"DIV",{class:!0});var u=I(e);r=D(u,"DIV",{class:!0});var t=I(r);for(let E=0;E<n.length;E+=1)n[E].l(t);t.forEach(k),i=M(u),l=D(u,"DIV",{class:!0});var y=I(l);h=D(y,"DIV",{class:!0});var K=I(h);for(let E=0;E<f.length;E+=1)f[E].l(K);K.forEach(k),y.forEach(k),u.forEach(k),this.h()},h(){v(r,"class","relative flex-grow-0 m-8"),W(r,"width",z*o[8]+"px"),W(r,"height",z*o[7]+"px"),v(h,"class","overflow-auto pr-3"),W(h,"height","calc(100dvh - 64px)"),v(l,"class","flex-1 p-8 pl-0"),v(e,"class","h-dvh flex flex-row items-center justify-center")},m(d,u){O(d,e,u),A(e,r);for(let t=0;t<n.length;t+=1)n[t]&&n[t].m(r,null);A(e,i),A(e,l),A(l,h);for(let t=0;t<f.length;t+=1)f[t]&&f[t].m(h,null);a||(p=no(o[11].call(null,e)),a=!0)},p(d,[u]){if(u&1615){m=S(d[1]);let t;for(t=0;t<m.length;t+=1){const y=H(d,m,t);n[t]?n[t].p(y,u):(n[t]=Q(y),n[t].c(),n[t].m(r,null))}for(;t<n.length;t+=1)n[t].d(1);n.length=m.length}if(u&124){w=S(d[6]);let t;for(t=0;t<w.length;t+=1){const y=B(d,w,t);f[t]?f[t].p(y,u):(f[t]=T(y),f[t].c(),f[t].m(h,null))}for(;t<f.length;t+=1)f[t].d(1);f.length=w.length}},i:q,o:q,d(d){d&&k(e),G(n,d),G(f,d),a=!1,p()}}}const z=24,ao=()=>{},wo=()=>{};function uo(o,e,r){let i;const l=N.map(c=>({...c,correct:!1})),h=Math.max(...l.map(c=>c.direction==="down"?c.row+c.word.length-1:c.row))+1,a=Math.max(...l.map(c=>c.direction==="across"?c.col+c.word.length-1:c.col))+1,p=Array.from({length:h},()=>Array.from({length:a},()=>"")),m=Array.from({length:h},()=>Array.from({length:a},()=>""));N.forEach(c=>{const{direction:s,row:g,col:b,word:C}=c;for(let V=0;V<C.length;V++){const oo=s==="down"?g+V:g,eo=s==="across"?b+V:b;r(1,p[oo][eo]=C[V].toUpperCase(),p)}});const n={row:N[0].row,col:N[0].col};let w=0,f=Array.from({length:l.length},()=>null);const d=(c,s,g)=>g.direction==="across"&&g.row===c&&g.col<=s&&s<g.col+g.word.length||g.direction==="down"&&g.col===s&&g.row<=c&&c<g.row+g.word.length,u=(c,s)=>{var C;const g=w,b=l.filter(V=>d(c,s,V));b.length===1&&r(3,w=l.indexOf(b[0])),b.length===2&&(c===n.row&&s===n.col?w===l.indexOf(b[0])?r(3,w=l.indexOf(b[1])):r(3,w=l.indexOf(b[0])):b.includes(l[w])||r(3,w=l.indexOf(b[0]))),r(2,n.row=c,n),r(2,n.col=s,n),w!==g&&f[w]&&((C=f[w])==null||C.scrollIntoView({block:"center",inline:"center",behavior:"smooth"}))},t=c=>{if(!(c.altKey||c.ctrlKey||c.metaKey))if(c.preventDefault(),c.key==="ArrowUp"){let s=n.row;for(;s>0;)if(s--,p[s][n.col]){u(s,n.col);break}}else if(c.key==="ArrowDown"){let s=n.row;for(;s<h-1;)if(s++,p[s][n.col]){u(s,n.col);break}}else if(c.key==="ArrowLeft"){let s=n.col;for(;s>0;)if(s--,p[n.row][s]){u(n.row,s);break}}else if(c.key==="ArrowRight"){let s=n.col;for(;s<a-1;)if(s++,p[n.row][s]){u(n.row,s);break}}else if(c.key.length===1&&c.key.match(/[a-z_ ]/i)){r(0,m[n.row][n.col]=c.key===" "?"_":c.key.toUpperCase(),m);const s=l[w];s.direction==="across"&&n.col<s.col+s.word.length-1?r(2,n.col++,n):s.direction==="down"&&n.row<s.row+s.word.length-1&&r(2,n.row++,n)}else if(c.key==="Backspace"){const s=m[n.row][n.col],g=l[w];g.direction==="across"&&n.col>g.col&&!s?r(2,n.col--,n):g.direction==="down"&&n.row>g.row&&!s&&r(2,n.row--,n),r(0,m[n.row][n.col]="",m)}else c.key==="Enter"&&u(n.row,n.col)},y=c=>{document.addEventListener("keydown",t)},K=(c,s)=>s.direction==="across"?Array.from({length:s.word.length},(g,b)=>c[s.row][s.col+b]).join(""):Array.from({length:s.word.length},(g,b)=>c[s.row+b][s.col]).join(""),E=(c,s)=>u(c,s);function $(c,s){io[c?"unshift":"push"](()=>{f[s]=c,r(4,f)})}const x=(c,s,g)=>{r(3,w=c),r(2,n.row=s,n),r(2,n.col=g,n)};return o.$$.update=()=>{o.$$.dirty&1&&r(5,i=l.map(c=>K(m,c)===c.word.toUpperCase()))},[m,p,n,w,f,i,l,h,a,d,u,y,E,$,x]}class go extends lo{constructor(e){super(),so(this,e,uo,to,ro,{})}}export{go as component};
